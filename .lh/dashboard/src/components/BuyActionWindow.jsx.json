{
    "sourceFile": "dashboard/src/components/BuyActionWindow.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 6,
            "patches": [
                {
                    "date": 1743000353852,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1743001031727,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,72 @@\n+import React, { useState } from \"react\";\r\n+import { Link } from \"react-router-dom\";\r\n+\r\n+import axios from \"axios\";\r\n+\r\n+import GeneralContext from \"./GeneralContext\";\r\n+\r\n+import \"./BuyActionWindow.css\";\r\n+\r\n+const BuyActionWindow = ({ uid }) => {\r\n+  const [stockQuantity, setStockQuantity] = useState(1);\r\n+  const [stockPrice, setStockPrice] = useState(0.0);\r\n+\r\n+  const handleBuyClick = () => {\r\n+    axios.post(\"http://localhost:3002/newOrder\", {\r\n+      name: uid,\r\n+      qty: stockQuantity,\r\n+      price: stockPrice,\r\n+      mode: \"BUY\",\r\n+    });\r\n+\r\n+    GeneralContext.closeBuyWindow();\r\n+  };\r\n+\r\n+  const handleCancelClick = () => {\r\n+    GeneralContext.closeBuyWindow();\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"container\" id=\"buy-window\" draggable=\"true\">\r\n+      <div className=\"regular-order\">\r\n+        <div className=\"inputs\">\r\n+          <fieldset>\r\n+            <legend>Qty.</legend>\r\n+            <input\r\n+              type=\"number\"\r\n+              name=\"qty\"\r\n+              id=\"qty\"\r\n+              onChange={(event) => setStockQuantity(event.target.value)}\r\n+              value={stockQuantity}\r\n+            />\r\n+          </fieldset>\r\n+          <fieldset>\r\n+            <legend>Price</legend>\r\n+            <input\r\n+              type=\"number\"\r\n+              name=\"price\"\r\n+              id=\"price\"\r\n+              step=\"0.05\"\r\n+              onChange={(event) => setStockPrice(event.target.value)}\r\n+              value={stockPrice}\r\n+            />\r\n+          </fieldset>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      <div className=\"buttons\">\r\n+        <span>Margin required ₹140.65</span>\r\n+        <div>\r\n+          <Link className=\"btn btn-blue\" onClick={handleBuyClick}>\r\n+            Buy\r\n+          </Link>\r\n+          <Link to=\"\" className=\"btn btn-grey\" onClick={handleCancelClick}>\r\n+            Cancel\r\n+          </Link>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+};\r\n+\r\n+export default BuyActionWindow;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1743001042306,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -68,78 +68,5 @@\n     </div>\r\n   );\r\n };\r\n \r\n-export default BuyActionWindow;\n-import React, { useState, useContext } from \"react\";\r\n-import { Link } from \"react-router-dom\";\r\n-import axios from \"axios\";\r\n-import GeneralContext from \"./GeneralContext\";\r\n-import \"./BuyActionWindow.css\";\r\n-\r\n-const BuyActionWindow = ({ uid }) => {\r\n-  const [stockQuantity, setStockQuantity] = useState(1);\r\n-  const [stockPrice, setStockPrice] = useState(0.0);\r\n-  \r\n-  // ✅ Use useContext to access context methods\r\n-  const { closeBuyWindow } = useContext(GeneralContext);\r\n-\r\n-  const handleBuyClick = async () => {\r\n-    try {\r\n-      await axios.post(\"http://localhost:3002/newOrder\", {\r\n-        name: uid,\r\n-        qty: stockQuantity,\r\n-        price: stockPrice,\r\n-        mode: \"BUY\",\r\n-      });\r\n-      closeBuyWindow(); // ✅ Close window after API call\r\n-    } catch (error) {\r\n-      console.error(\"Error placing order:\", error);\r\n-    }\r\n-  };\r\n-\r\n-  const handleCancelClick = () => {\r\n-    closeBuyWindow();\r\n-  };\r\n-\r\n-  return (\r\n-    <div className=\"container\" id=\"buy-window\" draggable=\"true\">\r\n-      <div className=\"regular-order\">\r\n-        <div className=\"inputs\">\r\n-          <fieldset>\r\n-            <legend>Qty.</legend>\r\n-            <input\r\n-              type=\"number\"\r\n-              name=\"qty\"\r\n-              id=\"qty\"\r\n-              min=\"1\"\r\n-              onChange={(event) => setStockQuantity(event.target.value)}\r\n-              value={stockQuantity}\r\n-            />\r\n-          </fieldset>\r\n-          <fieldset>\r\n-            <legend>Price</legend>\r\n-            <input\r\n-              type=\"number\"\r\n-              name=\"price\"\r\n-              id=\"price\"\r\n-              step=\"0.05\"\r\n-              min=\"0\"\r\n-              onChange={(event) => setStockPrice(event.target.value)}\r\n-              value={stockPrice}\r\n-            />\r\n-          </fieldset>\r\n-        </div>\r\n-      </div>\r\n-\r\n-      <div className=\"buttons\">\r\n-        <span>Margin required ₹140.65</span>\r\n-        <div>\r\n-          <button className=\"btn btn-blue\" onClick={handleBuyClick}>Buy</button>\r\n-          <button className=\"btn btn-grey\" onClick={handleCancelClick}>Cancel</button>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-};\r\n-\r\n export default BuyActionWindow;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1743001595892,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,30 +1,32 @@\n-import React, { useState } from \"react\";\r\n-import { Link } from \"react-router-dom\";\r\n-\r\n+import React, { useState, useContext } from \"react\";\r\n import axios from \"axios\";\r\n-\r\n import GeneralContext from \"./GeneralContext\";\r\n-\r\n import \"./BuyActionWindow.css\";\r\n \r\n const BuyActionWindow = ({ uid }) => {\r\n   const [stockQuantity, setStockQuantity] = useState(1);\r\n   const [stockPrice, setStockPrice] = useState(0.0);\r\n+  \r\n+  // Get the context values using useContext\r\n+  const { closeBuyWindow } = useContext(GeneralContext);\r\n \r\n-  const handleBuyClick = () => {\r\n-    axios.post(\"http://localhost:3002/newOrder\", {\r\n-      name: uid,\r\n-      qty: stockQuantity,\r\n-      price: stockPrice,\r\n-      mode: \"BUY\",\r\n-    });\r\n-\r\n-    GeneralContext.closeBuyWindow();\r\n+  const handleBuyClick = async () => {\r\n+    try {\r\n+      await axios.post(\"http://localhost:3002/newOrder\", {\r\n+        name: uid,\r\n+        qty: stockQuantity,\r\n+        price: stockPrice,\r\n+        mode: \"BUY\",\r\n+      });\r\n+      closeBuyWindow(); // Close window after successful order\r\n+    } catch (error) {\r\n+      console.error(\"Error placing order:\", error);\r\n+    }\r\n   };\r\n \r\n   const handleCancelClick = () => {\r\n-    GeneralContext.closeBuyWindow();\r\n+    closeBuyWindow();\r\n   };\r\n \r\n   return (\r\n     <div className=\"container\" id=\"buy-window\" draggable=\"true\">\r\n@@ -35,8 +37,9 @@\n             <input\r\n               type=\"number\"\r\n               name=\"qty\"\r\n               id=\"qty\"\r\n+              min=\"1\"\r\n               onChange={(event) => setStockQuantity(event.target.value)}\r\n               value={stockQuantity}\r\n             />\r\n           </fieldset>\r\n@@ -46,8 +49,9 @@\n               type=\"number\"\r\n               name=\"price\"\r\n               id=\"price\"\r\n               step=\"0.05\"\r\n+              min=\"0\"\r\n               onChange={(event) => setStockPrice(event.target.value)}\r\n               value={stockPrice}\r\n             />\r\n           </fieldset>\r\n@@ -56,17 +60,13 @@\n \r\n       <div className=\"buttons\">\r\n         <span>Margin required ₹140.65</span>\r\n         <div>\r\n-          <Link className=\"btn btn-blue\" onClick={handleBuyClick}>\r\n-            Buy\r\n-          </Link>\r\n-          <Link to=\"\" className=\"btn btn-grey\" onClick={handleCancelClick}>\r\n-            Cancel\r\n-          </Link>\r\n+          <button className=\"btn btn-blue\" onClick={handleBuyClick}>Buy</button>\r\n+          <button className=\"btn btn-grey\" onClick={handleCancelClick}>Cancel</button>\r\n         </div>\r\n       </div>\r\n     </div>\r\n   );\r\n };\r\n\\ No newline at end of file\n \r\n-export default BuyActionWindow;\n+export default BuyActionWindow;\r\n"
                },
                {
                    "date": 1743001754542,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,21 +5,20 @@\n \r\n const BuyActionWindow = ({ uid }) => {\r\n   const [stockQuantity, setStockQuantity] = useState(1);\r\n   const [stockPrice, setStockPrice] = useState(0.0);\r\n-  \r\n-  // Get the context values using useContext\r\n-  const { closeBuyWindow } = useContext(GeneralContext);\r\n+  const { closeBuyWindow } = useContext(GeneralContext); // Correct usage\r\n \r\n   const handleBuyClick = async () => {\r\n+    console.log(\"Buy clicked\", { uid, stockQuantity, stockPrice });\r\n     try {\r\n       await axios.post(\"http://localhost:3002/newOrder\", {\r\n         name: uid,\r\n         qty: stockQuantity,\r\n         price: stockPrice,\r\n         mode: \"BUY\",\r\n       });\r\n-      closeBuyWindow(); // Close window after successful order\r\n+      closeBuyWindow(); // Closes the window after success\r\n     } catch (error) {\r\n       console.error(\"Error placing order:\", error);\r\n     }\r\n   };\r\n@@ -68,5 +67,5 @@\n     </div>\r\n   );\r\n };\r\n \r\n-export default BuyActionWindow;\n\\ No newline at end of file\n+export default BuyActionWindow;\r\n"
                },
                {
                    "date": 1743007364300,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n import React, { useState, useContext } from \"react\";\r\n import axios from \"axios\";\r\n import GeneralContext from \"./GeneralContext\";\r\n-import \"./BuyActionWindow.css\";\r\n+import \"../components/\";\r\n \r\n const BuyActionWindow = ({ uid }) => {\r\n   const [stockQuantity, setStockQuantity] = useState(1);\r\n   const [stockPrice, setStockPrice] = useState(0.0);\r\n"
                },
                {
                    "date": 1743079314313,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,31 +1,30 @@\n-import React, { useState, useContext } from \"react\";\r\n+import React, { useState } from \"react\";\r\n+import { Link } from \"react-router-dom\";\r\n+\r\n import axios from \"axios\";\r\n+\r\n import GeneralContext from \"./GeneralContext\";\r\n-import \"../components/\";\r\n \r\n+import \"./BuyActionWindow.css\";\r\n+\r\n const BuyActionWindow = ({ uid }) => {\r\n   const [stockQuantity, setStockQuantity] = useState(1);\r\n   const [stockPrice, setStockPrice] = useState(0.0);\r\n-  const { closeBuyWindow } = useContext(GeneralContext); // Correct usage\r\n \r\n-  const handleBuyClick = async () => {\r\n-    console.log(\"Buy clicked\", { uid, stockQuantity, stockPrice });\r\n-    try {\r\n-      await axios.post(\"http://localhost:3002/newOrder\", {\r\n-        name: uid,\r\n-        qty: stockQuantity,\r\n-        price: stockPrice,\r\n-        mode: \"BUY\",\r\n-      });\r\n-      closeBuyWindow(); // Closes the window after success\r\n-    } catch (error) {\r\n-      console.error(\"Error placing order:\", error);\r\n-    }\r\n+  const handleBuyClick = () => {\r\n+    axios.post(\"http://localhost:3002/newOrder\", {\r\n+      name: uid,\r\n+      qty: stockQuantity,\r\n+      price: stockPrice,\r\n+      mode: \"BUY\",\r\n+    });\r\n+\r\n+    GeneralContext.closeBuyWindow();\r\n   };\r\n \r\n   const handleCancelClick = () => {\r\n-    closeBuyWindow();\r\n+    GeneralContext.closeBuyWindow();\r\n   };\r\n \r\n   return (\r\n     <div className=\"container\" id=\"buy-window\" draggable=\"true\">\r\n@@ -36,10 +35,9 @@\n             <input\r\n               type=\"number\"\r\n               name=\"qty\"\r\n               id=\"qty\"\r\n-              min=\"1\"\r\n-              onChange={(event) => setStockQuantity(event.target.value)}\r\n+              onChange={(e) => setStockQuantity(e.target.value)}\r\n               value={stockQuantity}\r\n             />\r\n           </fieldset>\r\n           <fieldset>\r\n@@ -48,10 +46,9 @@\n               type=\"number\"\r\n               name=\"price\"\r\n               id=\"price\"\r\n               step=\"0.05\"\r\n-              min=\"0\"\r\n-              onChange={(event) => setStockPrice(event.target.value)}\r\n+              onChange={(e) => setStockPrice(e.target.value)}\r\n               value={stockPrice}\r\n             />\r\n           </fieldset>\r\n         </div>\r\n@@ -59,13 +56,17 @@\n \r\n       <div className=\"buttons\">\r\n         <span>Margin required ₹140.65</span>\r\n         <div>\r\n-          <button className=\"btn btn-blue\" onClick={handleBuyClick}>Buy</button>\r\n-          <button className=\"btn btn-grey\" onClick={handleCancelClick}>Cancel</button>\r\n+          <Link className=\"btn btn-blue\" onClick={handleBuyClick}>\r\n+            Buy\r\n+          </Link>\r\n+          <Link to=\"\" className=\"btn btn-grey\" onClick={handleCancelClick}>\r\n+            Cancel\r\n+          </Link>\r\n         </div>\r\n       </div>\r\n     </div>\r\n   );\r\n };\r\n \r\n-export default BuyActionWindow;\r\n+export default BuyActionWindow;\n\\ No newline at end of file\n"
                }
            ],
            "date": 1743000353852,
            "name": "Commit-0",
            "content": "import React, { useState, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport GeneralContext from \"./GeneralContext\";\r\nimport \"./BuyActionWindow.css\";\r\n\r\nconst BuyActionWindow = ({ uid }) => {\r\n  const [stockQuantity, setStockQuantity] = useState(1);\r\n  const [stockPrice, setStockPrice] = useState(0.0);\r\n  \r\n  // ✅ Use useContext to access context methods\r\n  const { closeBuyWindow } = useContext(GeneralContext);\r\n\r\n  const handleBuyClick = async () => {\r\n    try {\r\n      await axios.post(\"http://localhost:3002/newOrder\", {\r\n        name: uid,\r\n        qty: stockQuantity,\r\n        price: stockPrice,\r\n        mode: \"BUY\",\r\n      });\r\n      closeBuyWindow(); // ✅ Close window after API call\r\n    } catch (error) {\r\n      console.error(\"Error placing order:\", error);\r\n    }\r\n  };\r\n\r\n  const handleCancelClick = () => {\r\n    closeBuyWindow();\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\" id=\"buy-window\" draggable=\"true\">\r\n      <div className=\"regular-order\">\r\n        <div className=\"inputs\">\r\n          <fieldset>\r\n            <legend>Qty.</legend>\r\n            <input\r\n              type=\"number\"\r\n              name=\"qty\"\r\n              id=\"qty\"\r\n              min=\"1\"\r\n              onChange={(event) => setStockQuantity(event.target.value)}\r\n              value={stockQuantity}\r\n            />\r\n          </fieldset>\r\n          <fieldset>\r\n            <legend>Price</legend>\r\n            <input\r\n              type=\"number\"\r\n              name=\"price\"\r\n              id=\"price\"\r\n              step=\"0.05\"\r\n              min=\"0\"\r\n              onChange={(event) => setStockPrice(event.target.value)}\r\n              value={stockPrice}\r\n            />\r\n          </fieldset>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"buttons\">\r\n        <span>Margin required ₹140.65</span>\r\n        <div>\r\n          <button className=\"btn btn-blue\" onClick={handleBuyClick}>Buy</button>\r\n          <button className=\"btn btn-grey\" onClick={handleCancelClick}>Cancel</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BuyActionWindow;\r\n"
        }
    ]
}